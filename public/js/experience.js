const cta = document.querySelector(".cta_header"), footer = document.querySelector(".toaster"), expandIcon = document.querySelector(".expand_icon"), airplaneIcon = document.querySelectorAll(".airplane_icon_wrapper"); function toggleFooter() { footer.classList.toggle("is_open"), expandIcon.classList.toggle("is_reversed"), Array.from(airplaneIcon).map(a => a.classList.toggle("is_moving")) } cta.addEventListener("click", toggleFooter), $(() => { let a = 0, b = !1, c = $(".experience-timeline__nav"), d = $("li", c), e = $(".experience-timeline__section .experience-milestone"), f = parseInt(c.css("top")); const g = { start: 190, step: 30 }; $(window).resize(function () { c.removeClass("fixed"), a = c.offset().top - f, $(window).trigger("scroll") }).trigger("resize"), $(window).scroll(function () { $(window).scrollTop() > a ? c.addClass("fixed") : c.removeClass("fixed") }).trigger("scroll"), d.find("span").click(function () { let a = $(this).parent(), c = a.index(), d = e.eq(c); if (!a.hasClass("active") && d.length) { b = c; let a = d.offset().top - 80; $("html, body").animate({ scrollTop: a }, { duration: 400, complete: function () { b = !1 } }) } }), $(window).scroll(function () { let a = $(window).scrollTop() + $(window).height() / 3, f = -1; !1 === b ? e.each(function () { return !(0 < $(this).offset().top - a) && void f++ }) : f = b, c.css("top", -1 * f * g.step + g.start + "px"), d.filter(".active").removeClass("active"), d.eq(-1 == f ? 0 : f).addClass("active") }).trigger("scroll") });